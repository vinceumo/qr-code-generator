(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(42)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),i=(a(31),a(10)),o=a(5);var u=function(){return r.a.createElement("footer",{className:"has-bg-dark"},r.a.createElement("div",{className:"container has-py-2"},r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/vinceumo/qr-code-generator"},"See project on github"))))};a(32);var s=function(){return r.a.createElement("header",{className:"has-bg-dark"},r.a.createElement("div",{className:"container has-py-2"},r.a.createElement("h1",{className:"has-my-1"},"QR Code")))};a(33);var p=function(){return r.a.createElement("nav",{className:"has-bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"list-unstyled has-m-0 navigation"},r.a.createElement("li",null,r.a.createElement(i.b,{exact:!0,to:"/",className:"btn has-py-1",activeClassName:"is-light"},"Scanner")),r.a.createElement("li",null,r.a.createElement(i.b,{exact:!0,to:"/generator",className:"btn has-py-1",activeClassName:"is-light"},"Generator")))))},d=a(11),m=a(24);var h=function(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(null),o=Object(d.a)(i,2),u=o[0],s=o[1];function p(){var t=new m.a(0,"H");t.addData(e.data),t.make(),l(t),function(e){var t=new Blob([e.createSvgTag({})],{type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(t);s(a)}(t)}return Object(n.useEffect)(function(){p()}),r.a.createElement("div",null,c?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:"".concat(c.createSvgTag({}))}}):r.a.createElement("div",null),r.a.createElement("a",{href:u,download:"qrCode",className:"btn is-dark"},"Download"))},v=a(6),f=a(7),g=a(13),E=a(12),b=a(14),C=function(e){function t(e){return Object(v.a)(this,t),Object(g.a)(this,Object(E.a)(t).call(this))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"UpdateVCardValue",value:function(){var e=this,t={};Object.keys(this.props.inputs).forEach(function(a,n){""!==e[a].value&&(t[a]=e[a].value)}),this.props.SetMsg(this.CreateVCard(t),"contact"),this.props.UpdateContactInputStates(t)}},{key:"CreateVCard",value:function(e){var t=this,a="";return Object.keys(e).forEach(function(n,r){a+="".concat(t.props.inputs[n].vCardType).concat(e[n],"\n")}),"BEGIN:VCARD\nVERSION:4.0\n".concat(a,"\nEND:VCARD")}},{key:"componentDidMount",value:function(){this.UpdateVCardValue()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,Object.keys(this.props.inputs).map(function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("label",{htmlFor:"contactContentInputName"},e.props.inputs[t].label,":"),r.a.createElement("input",{ref:function(a){return e[t]=a},type:e.props.inputs[t].inputType,name:"contactQrContent",id:"contactContentInput".concat(e.props.inputs[t].vCardType),defaultValue:e.props.inputs[t].value,onChange:function(t){return e.UpdateVCardValue()}}))}))}}]),t}(r.a.Component);var y=function(e){return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"textInput"},"Text: "),r.a.createElement("textarea",{id:"textInput",defaultValue:e.currentValue,onChange:function(t){return e.SetMsg(t.target.value,"text")}}))};var w=function(e){return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"urlQrContentInput"},"URL: "),r.a.createElement("input",{type:"url",name:"urlQrContent",id:"urlQrContentInput",defaultValue:e.currentValue,onChange:function(t){return e.SetMsg(t.target.value,"url")}}))},S=(a(38),function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).SetMsg=function(e,t){if(a.setState({msg:e}),a.props.SetQrCodeMsg(e),"contact"!==t){var n=Object.assign({},a.state.inputValues);n[t]=e,a.setState({inputValues:n})}},a.UpdateContactInputStates=function(e){var t=Object.assign({},a.state.inputValues);Object.keys(t.contact).forEach(function(a,n){t.contact[a].value=e[a]}),a.setState({inputValues:t})},a.OnRadioInputChange=function(e){a.setState({inputToRender:e.currentTarget.value}),a.SetMsg(a.state.inputValues[e.currentTarget.value],e.currentTarget.value)},a.radios=["text","url","contact"],a.state={inputToRender:"text",msg:"",inputValues:{text:"",url:"https://",contact:{fullName:{label:"Full Name",inputType:"text",vCardType:"FN:",value:""},organisation:{label:"Organisation",inputType:"text",vCardType:"ORG:",value:""},title:{label:"Title",inputType:"text",vCardType:"TITLE:",value:""},phone:{label:"Phone number",inputType:"tel",vCardType:"TEL;voice;VALUE=uri:tel:",value:""},email:{label:"Email",inputType:"email",vCardType:"EMAIL:",value:""}}}},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"InputToReturn",value:function(){switch(this.state.inputToRender){case"text":return r.a.createElement(y,{SetMsg:this.SetMsg,currentValue:this.state.inputValues.text});case"url":return r.a.createElement(w,{SetMsg:this.SetMsg,currentValue:this.state.inputValues.url});case"contact":return r.a.createElement(C,{UpdateContactInputStates:this.UpdateContactInputStates,SetMsg:this.SetMsg,inputs:this.state.inputValues.contact});default:return r.a.createElement(y,{SetMsg:this.SetMsg,currentValue:this.state.inputValues.text})}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"input-picker has-mb-4"},this.radios.map(function(t,a){return r.a.createElement("label",{key:a,className:"input-label",htmlFor:"radio".concat(t)},r.a.createElement("input",{type:"radio",value:t,checked:e.state.inputToRender===t,name:"inputFormat",id:"radio".concat(t),onChange:e.OnRadioInputChange}),t)})),this.InputToReturn())}}]),t}(r.a.Component));a(39);var O=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"container qrcodegen-container"},r.a.createElement(S,{text:a,SetQrCodeMsg:c}),r.a.createElement(h,{data:a}))},k=a(25),N=a.n(k);a(40);var T=function(e){var t,a=Object(n.useRef)(null),c=Object(n.useRef)(null),l={audio:!1,video:!0};function i(){var n=function(){if(t||(t=c.current.getContext("2d")),a.current)return c.current.height=a.current.clientHeight,c.current.width=a.current.clientWidth,t.drawImage(a.current,0,0,c.current.width,c.current.height),t.getImageData(0,0,c.current.width,c.current.height)}();if(n){var r=N()(n.data,n.width,n.height,{inversionAttempts:"dontInvert"});r&&e.history.push({pathname:"/scanner-result",state:{msg:r.data}}),requestAnimationFrame(i)}}return Object(n.useEffect)(function(){navigator.mediaDevices.getUserMedia(l).then(function(e){!function(e){a.current.srcObject=e,requestAnimationFrame(i)}(e)}).catch(function(e){!function(e){console.log(e)}(e)})}),r.a.createElement("div",{className:"container qrcodescanner-container"},r.a.createElement("h2",null,"Scan a QR code"),r.a.createElement("canvas",{ref:c,hidden:!0,id:"canvas"}),r.a.createElement("video",{ref:a,muted:!0,playsInline:!0,autoPlay:!0}))};var V=function(e){var t=e.location.state.msg,a="",n=/BEGIN:VCARD/,c=/[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/gi;return a=n.test(t)&&c.test(t)?"vcard":n.test(t)&&!c.test(t)?"vcard":!n.test(t)&&c.test(t)?"url":"text",r.a.createElement("div",{className:"container"},function(){switch(a){case"vcard":return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,t),r.a.createElement("a",{className:"btn is-dark",href:"data:,".concat(encodeURIComponent(t).replace(/['()]/g,escape).replace(/\*/g,"%2A").replace(/%(?:7C|60|5E)/g,unescape)),download:"contact.vcf"},"Save Contact"));case"url":return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,t),r.a.createElement("a",{className:"btn is-dark",href:t},"Visit link"));default:return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,t))}}())};a(41);var j=function(){return r.a.createElement(i.a,null,r.a.createElement("div",{className:"app-wrapper"},r.a.createElement("div",null,r.a.createElement(s,null),r.a.createElement(p,null)),r.a.createElement("main",{className:"has-py-3"},r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:T}),r.a.createElement(o.a,{path:"/scanner-result",component:V}),r.a.createElement(o.a,{path:"/generator",exact:!0,component:O}))),r.a.createElement(u,null)))},I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(j,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/qr-code-generator",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/qr-code-generator","/service-worker.js");I?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):x(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):x(t,e)})}}()}},[[26,1,2]]]);
//# sourceMappingURL=main.2cfc5e39.chunk.js.map