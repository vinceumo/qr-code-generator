(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(42)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),o=n.n(c),l=(n(31),n(10)),i=n(5);var u=function(){return r.a.createElement("footer",{className:"has-bg-dark"},r.a.createElement("div",{className:"container has-py-2"},r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/vinceumo/qr-code-generator"},"See project on github"))))};n(32);var s=function(){return r.a.createElement("header",{className:"has-bg-dark"},r.a.createElement("div",{className:"container has-py-2"},r.a.createElement("h1",{className:"has-my-1"},"QR Code")))};n(33);var d=function(){return r.a.createElement("nav",{className:"has-bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"list-unstyled has-m-0 navigation"},r.a.createElement("li",null,r.a.createElement(l.b,{exact:!0,to:"/qr-code-generator/",className:"btn has-py-1",activeClassName:"is-light"},"Scanner")),r.a.createElement("li",null,r.a.createElement(l.b,{exact:!0,to:"/qr-code-generator/generator",className:"btn has-py-1",activeClassName:"is-light"},"Generator")))))},p=n(11),m=n(24);var h=function(e){var t=Object(a.useState)(null),n=Object(p.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(null),i=Object(p.a)(l,2),u=i[0],s=i[1];function d(){var t=new m.a(0,"H");t.addData(e.data),t.make(),o(t),function(e){var t=new Blob([e.createSvgTag({})],{type:"image/svg+xml;charset=utf-8"}),n=URL.createObjectURL(t);s(n)}(t)}return Object(a.useEffect)(function(){d()}),r.a.createElement("div",null,c?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:"".concat(c.createSvgTag({}))}}):r.a.createElement("div",null),r.a.createElement("a",{href:u,download:"qrCode",className:"btn is-dark"},"Download"))},v=n(6),f=n(7),g=n(13),E=n(12),b=n(14),C=function(e){function t(e){return Object(v.a)(this,t),Object(g.a)(this,Object(E.a)(t).call(this))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"UpdateVCardValue",value:function(){var e=this,t={};Object.keys(this.props.inputs).forEach(function(n,a){""!==e[n].value&&(t[n]=e[n].value)}),this.props.SetMsg(this.CreateVCard(t),"contact"),this.props.UpdateContactInputStates(t)}},{key:"CreateVCard",value:function(e){var t=this,n="";return Object.keys(e).forEach(function(a,r){n+="".concat(t.props.inputs[a].vCardType).concat(e[a],"\n")}),"BEGIN:VCARD\nVERSION:4.0\n".concat(n,"\nEND:VCARD")}},{key:"componentDidMount",value:function(){this.UpdateVCardValue()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,Object.keys(this.props.inputs).map(function(t,n){return r.a.createElement("div",{key:n},r.a.createElement("label",{htmlFor:"contactContentInputName"},e.props.inputs[t].label,":"),r.a.createElement("input",{ref:function(n){return e[t]=n},type:e.props.inputs[t].inputType,name:"contactQrContent",id:"contactContentInput".concat(e.props.inputs[t].vCardType),defaultValue:e.props.inputs[t].value,onChange:function(t){return e.UpdateVCardValue()}}))}))}}]),t}(r.a.Component);var y=function(e){return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"textInput"},"Text: "),r.a.createElement("textarea",{id:"textInput",defaultValue:e.currentValue,onChange:function(t){return e.SetMsg(t.target.value,"text")}}))};var w=function(e){return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"urlQrContentInput"},"URL: "),r.a.createElement("input",{type:"url",name:"urlQrContent",id:"urlQrContentInput",defaultValue:e.currentValue,onChange:function(t){return e.SetMsg(t.target.value,"url")}}))},S=(n(38),function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(g.a)(this,Object(E.a)(t).call(this,e))).SetMsg=function(e,t){if(n.setState({msg:e}),n.props.SetQrCodeMsg(e),"contact"!==t){var a=Object.assign({},n.state.inputValues);a[t]=e,n.setState({inputValues:a})}},n.UpdateContactInputStates=function(e){var t=Object.assign({},n.state.inputValues);Object.keys(t.contact).forEach(function(n,a){t.contact[n].value=e[n]}),n.setState({inputValues:t})},n.OnRadioInputChange=function(e){n.setState({inputToRender:e.currentTarget.value}),n.SetMsg(n.state.inputValues[e.currentTarget.value],e.currentTarget.value)},n.radios=["text","url","contact"],n.state={inputToRender:"text",msg:"",inputValues:{text:"",url:"https://",contact:{fullName:{label:"Full Name",inputType:"text",vCardType:"FN:",value:""},organisation:{label:"Organisation",inputType:"text",vCardType:"ORG:",value:""},title:{label:"Title",inputType:"text",vCardType:"TITLE:",value:""},phone:{label:"Phone number",inputType:"tel",vCardType:"TEL;voice;VALUE=uri:tel:",value:""},email:{label:"Email",inputType:"email",vCardType:"EMAIL:",value:""}}}},n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"InputToReturn",value:function(){switch(this.state.inputToRender){case"text":return r.a.createElement(y,{SetMsg:this.SetMsg,currentValue:this.state.inputValues.text});case"url":return r.a.createElement(w,{SetMsg:this.SetMsg,currentValue:this.state.inputValues.url});case"contact":return r.a.createElement(C,{UpdateContactInputStates:this.UpdateContactInputStates,SetMsg:this.SetMsg,inputs:this.state.inputValues.contact});default:return r.a.createElement(y,{SetMsg:this.SetMsg,currentValue:this.state.inputValues.text})}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"input-picker has-mb-4"},this.radios.map(function(t,n){return r.a.createElement("label",{key:n,className:"input-label",htmlFor:"radio".concat(t)},r.a.createElement("input",{type:"radio",value:t,checked:e.state.inputToRender===t,name:"inputFormat",id:"radio".concat(t),onChange:e.OnRadioInputChange}),t)})),this.InputToReturn())}}]),t}(r.a.Component));n(39);var O=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1];return r.a.createElement("div",{className:"container qrcodegen-container"},r.a.createElement(S,{text:n,SetQrCodeMsg:c}),r.a.createElement(h,{data:n}))},k=n(25),N=n.n(k);n(40);var T=function(e){var t,n=Object(a.useRef)(null),c=Object(a.useRef)(null),o={audio:!1,video:{facingMode:"environment"}};function l(){var a=function(){if(t||(t=c.current.getContext("2d")),n.current)return c.current.height=n.current.clientHeight,c.current.width=n.current.clientWidth,t.drawImage(n.current,0,0,c.current.width,c.current.height),t.getImageData(0,0,c.current.width,c.current.height)}();if(a){var r=N()(a.data,a.width,a.height,{inversionAttempts:"dontInvert"});r&&e.history.push({pathname:"".concat("/qr-code-generator","/scanner-result"),state:{msg:r.data}}),requestAnimationFrame(l)}}return Object(a.useEffect)(function(){navigator.mediaDevices.enumerateDevices().then(function(e){console.log(e)}),navigator.mediaDevices.getUserMedia(o).then(function(e){!function(e){n.current.srcObject=e,requestAnimationFrame(l)}(e)}).catch(function(e){!function(e){console.log(e)}(e)})}),r.a.createElement("div",{className:"container qrcodescanner-container"},r.a.createElement("h2",null,"Scan a QR code"),r.a.createElement("canvas",{ref:c,hidden:!0,id:"canvas"}),r.a.createElement("video",{ref:n,muted:!0,playsInline:!0,autoPlay:!0}))};var V=function(e){var t=e.location.state.msg,n="",a=/BEGIN:VCARD/,c=/[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/gi;return n=a.test(t)&&c.test(t)?"vcard":a.test(t)&&!c.test(t)?"vcard":!a.test(t)&&c.test(t)?"url":"text",r.a.createElement("div",{className:"container"},function(){switch(n){case"vcard":return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,t),r.a.createElement("a",{className:"btn is-dark",href:"data:,".concat(encodeURIComponent(t).replace(/['()]/g,escape).replace(/\*/g,"%2A").replace(/%(?:7C|60|5E)/g,unescape)),download:"contact.vcf"},"Save Contact"));case"url":return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,t),r.a.createElement("a",{className:"btn is-dark",href:t},"Visit link"));default:return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,t))}}())};n(41);var j=function(){return r.a.createElement(l.a,null,r.a.createElement("div",{className:"app-wrapper"},r.a.createElement("div",null,r.a.createElement(s,null),r.a.createElement(d,null)),r.a.createElement("main",{className:"has-py-3"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/qr-code-generator/",component:T}),r.a.createElement(i.a,{path:"/qr-code-generator/scanner-result",component:V}),r.a.createElement(i.a,{path:"/qr-code-generator/generator",exact:!0,component:O}))),r.a.createElement(u,null)))},I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(j,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/qr-code-generator",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/qr-code-generator","/service-worker.js");I?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):x(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):x(t,e)})}}()}},[[26,1,2]]]);
//# sourceMappingURL=main.6101e76e.chunk.js.map